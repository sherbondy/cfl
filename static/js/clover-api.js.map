{"version":3,"sources":["webpack:///webpack/bootstrap b351a1dda5945b51ef47","webpack:///./static/src/js/clover-api.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA,QAAQ,QAAR,EAAmB,KAAnB,CAA0B,UAAU,CAAV,EAAc;AACtC,OAAI,YAAY,WAAhB;AACA,OAAI,eAAe,UAAU,SAA7B;AACA,OAAI,SAAS,qCAAb;AACA,OAAI,WAAW,kCAAf;;AAEA,YAAS,OAAT,CAAiB,GAAjB,EAAsB,GAAtB,EAA2B;AACzB,SAAI,SAAS,CACX;AACE,sBAAe,OADjB;AAEE,kBAAW,CACT,EAAE,cAAc,CAAC,GAAjB,EADS,EAET,EAAE,SAAS,IAAX,EAFS,EAGT,EAAE,cAAc,YAAhB,EAHS;AAFb,MADW,EAQT;AACA,kBAAW,CACT,EAAE,cAAc,CAAC,GAAjB,EADS;AADX,MARS,EAYT;AACA,kBAAW,CACT,EAAE,cAAc,YAAhB,EADS,EAET,EAAE,SAAS,IAAX,EAFS;AADX,MAZS,EAiBT,EAjBS,CAAb;AAoBA,SAAI,MAAM,IAAI,OAAO,IAAP,CAAY,GAAhB,CAAoB,SAAS,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC5D,aAAM,EADsD;AAE5D,oBAAa,KAF+C;AAG5D;AACA,kBAAW,OAAO,IAAP,CAAY,SAAZ,CAAsB;AAJ2B,MAApD,CAAV;;AAOA;AACA,SAAI,OAAO,GAAX,EAAgB;AACd,WAAI,SAAJ,CAAc,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,GAAvB,EAA4B,GAA5B,CAAd;AACA,WAAI,OAAJ,CAAY,EAAZ;AACD,MAHD,MAGO;AACL,WAAG,UAAU,WAAb,EAA0B;AACxB,8BAAqB,IAArB;AACA,mBAAU,WAAV,CAAsB,kBAAtB,CAAyC,UAAS,QAAT,EAAmB;AAC1D,6BAAkB,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,SAAS,MAAT,CAAgB,QAAvC,EAAgD,SAAS,MAAT,CAAgB,SAAhE,CAAlB;AACA,eAAI,SAAJ,CAAc,eAAd;AACD,UAHD,EAGG,YAAW;AACZ,+BAAoB,kBAApB;AACD,UALD;AAMD;AACD;AATA,YAUK;AACH,gCAAqB,KAArB;AACA,+BAAoB,kBAApB;AACD;;AAED,gBAAS,mBAAT,CAA6B,SAA7B,EAAwC;AACtC,aAAI,cAAc,IAAlB,EAAwB;AACtB;AACA,6BAAkB,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,OAAvB,EAAgC,CAAC,OAAjC,CAAlB;AACD,UAHD,MAGO;AACL;AACA,6BAAkB,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,OAAvB,EAAgC,CAAC,OAAjC,CAAlB;AACD;AACD,aAAI,SAAJ,CAAc,eAAd;AACD;AACF;;AAED,SAAI,aAAa,IAAI,OAAO,IAAP,CAAY,UAAhB,EAAjB;;AAEA,SAAI,MAAJ,EAAY,CAAZ;;AAEA,UAAK,IAAI,CAAT,EAAY,IAAI,aAAa,MAA7B,EAAqC,GAArC,EAA0C;AACxC,WAAI,iBAAiB,WAAW,aAAa,CAAb,CAAX,IAA8B,MAA9B,GAAuC,QAA5D;AACA,WAAI,eAAe,aAAa,aAAa,CAAb,CAAb,IAAgC,OAAhC,GAA0C,OAA7D;AACA,gBAAS,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB;AAC9B,mBAAU,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,aAAa,CAAb,EAAgB,QAAvC,EAAiD,aAAa,CAAb,EAAgB,SAAjE,CADoB;AAE9B,cAAK,GAFyB;AAG9B,eAAO,IAAE,QAAS,uBAAoB,aAAa,aAAa,CAAb,CAAb,IAAgC,OAAhC,GAA0C,OAAQ,MAAG,WAAW,aAAa,CAAb,CAAX,IAA8B,MAA9B,GAAuC,QAAS;AAH7G,QAAvB,CAAT;;AAMA,cAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,MAA9B,EAAsC,WAAtC,EAAqD,UAAS,MAAT,EAAiB,CAAjB,EAAoB;AACvE,gBAAO,YAAW;AAChB,sBAAW,UAAX,CAAsB,aAAa,CAAb,EAAgB,WAAtC;AACA,sBAAW,IAAX,CAAgB,GAAhB,EAAqB,MAArB;AACD,UAHD;AAID,QALkD,CAKhD,MALgD,EAKxC,CALwC,CAAnD;;AAOA,cAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,MAA9B,EAAsC,UAAtC,EAAoD,UAAS,MAAT,EAAiB,CAAjB,EAAoB;AACtE,gBAAO,YAAW;AAChB,sBAAW,KAAX;AACD,UAFD;AAGD,QAJiD,CAI/C,MAJ+C,EAIvC,CAJuC,CAAlD;;AAMA,cAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,MAA9B,EAAsC,OAAtC,EAAiD,UAAS,MAAT,EAAiB,CAAjB,EAAoB;AACnE,gBAAO,YAAW;AAChB,kBAAO,QAAP,CAAgB,OAAhB,CAAyB,2BAAyB,aAAa,CAAb,EAAgB,IAAK,GAAvE;AACD,UAFD;AAGD,QAJ8C,CAI5C,MAJ4C,EAIpC,CAJoC,CAA/C;AAMD;AACF;;AAED,OAAI,QAAQ,SAAS,MAAT,CAAgB,MAAhB,CAAZ;AACA;AACA,OAAI,MAAM,OAAO,UAAP,EAAmB,UAAnB,EAA+B,MAA/B,EAAV;AACA,WAAQ,GAAR,CAAY,KAAZ;AACA,WAAQ,GAAR,CAAY,GAAZ;;AAEA,YAAS,SAAT,CAAmB,QAAnB,EAA6B;AAC3B,SAAI,QAAQ,SAAS,KAArB;AACD;;AAED,YAAS,UAAT,CAAoB,QAApB,EAA8B;AAC5B,YAAO,SAAS,YAAhB;AACD;;AAED,YAAS,YAAT,CAAsB,QAAtB,EAAgC;AAC9B,YAAO,SAAS,QAAhB;AACD;;AAED,YAAS,iBAAT,CAA2B,QAA3B,EAAqC,CAArC,EAAwC;AACtC,SAAI,UAAW,IAAE,SAAS,gBAAiB,MAAG,SAAS,YAAa,OAAI,SAAS,aAAc,MAAG,SAAS,gBAAiB,GAA5H;AACA,SAAI,iBAAkB,kBAAgB,CAAE,GAAxC;AACA,SAAI,WAAY,IAAE,KAAK,KAAL,CAAY,CAAC,IAAI,CAAL,IAAU,EAAV,GAAe,EAA3B,IAAkC,EAAG,KAAvD;AACA,SAAI,gBAAgB,WAAW,QAAX,IAAuB,mBAAvB,GAA6C,QAAjE;AACA,SAAI,qBAAqB,WAAW,QAAX,IAAuB,qBAAvB,GAA+C,uBAAxE;AACA,SAAI,aAAc,wBAAsB,SAAS,OAAQ,GAAzD;AACA,SAAI,YAAa,8BAA4B,OAAQ,GAArD;;AAEA,SAAI,gBAAiB,yCAAuC,kBAAmB,WAAQ,cAAe,oBAAiB,WAAW,QAAX,CAAqB,mBAAgB,aAAa,QAAb,CAAuB;;;sBAAA,CAGlK,OAAO,QAAP,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,YAA3B,EAAyC,CAAzC,CAA4C,4BAAyB,aAAa,CAAb,EAAgB,IAAK;mDAAA,CAC7D,SAAS,WAAY;uDAAA,CACjB,QAAS;;;oCAAA,CAG5B,aAAc;;;YAR7C;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAE,gBAAF,EAAoB,MAApB,CAA2B,aAA3B;AACD;;AAED,YAAS,mBAAT,GAA+B;AAC7B,kBAAa,OAAb,CAAqB,UAAS,QAAT,EAAmB,CAAnB,EAAsB;AACzC,yBAAkB,QAAlB,EAA4B,CAA5B;AACA,iBAAU,QAAV;AACD,MAHD;AAID;;AAED,YAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B;AAC3B,SAAI,CAAC,GAAL,EAAU,MAAM,OAAO,QAAP,CAAgB,IAAtB;AACV,YAAO,KAAK,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAP;AACA,SAAI,QAAQ,IAAI,MAAJ,CAAW,SAAS,IAAT,GAAgB,mBAA3B,CAAZ;AAAA,SACI,UAAU,MAAM,IAAN,CAAW,GAAX,CADd;AAEA,SAAI,CAAC,OAAL,EAAc,OAAO,IAAP;AACd,SAAI,CAAC,QAAQ,CAAR,CAAL,EAAiB,OAAO,EAAP;AACjB,YAAO,mBAAmB,QAAQ,CAAR,EAAW,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAAP;AACD;;AAED,YAAS,cAAT,CAAwB,QAAxB,EAAkC;AAChC,SAAI,cAAc,SAAS,GAAT,CAAlB;AACA,SAAI,YAAJ;;AAEA,cAAS,OAAT,CAAiB,UAAS,GAAT,EAAc,CAAd,EAAiB;AAChC,WAAI,IAAI,IAAJ,KAAa,WAAjB,EAA8B;AAC5B,wBAAe,GAAf;AACD;AACF,MAJD;;AAMA,YAAO,YAAP;AACD;;AAED,YAAS,aAAT,CAAuB,IAAvB,EAA6B,IAA7B,EAAmC;AACjC,aAAQ,GAAR,CAAY,IAAZ;AACA,SAAI,WAAY;;2DAAA,CAEsC,KAAK,IAAK;0EAAA,CACK,KAAK,IAAK;;WAH/E;;AAOA,OAAE,+BAAF,EAAmC,IAAnC,GAA0C,KAA1C,CAAgD,QAAhD;AACD;;AAED,YAAS,eAAT,CAAyB,GAAzB,EAA8B;AAC5B,WAAM,IAAI,OAAJ,CAAY,aAAZ,EAA2B,UAAS,KAAT,EAAgB,GAAhB,EAAqB;AACpD,cAAO,iCAAiC,KAAjC,GAAyC,MAAhD;AACD,MAFK,CAAN;AAGA,YAAO,IAAI,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAP;AACD;;AAED,YAAS,SAAT,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B,CAA/B,EAAkC;;AAEhC,SAAI,cAAc,EAAE,OAAF,CAAW,IAAE,MAAO,cAAW,IAAK,WAAQ,KAAK,IAAK,GAAtD,CAAlB;AACA,iBAAY,IAAZ,CAAkB,UAAS,IAAT,EAAe;AAC/B;AACE;AACF;AACA,WAAI,aAAc,KAAK,UAAvB;AACA,YAAK,IAAI,GAAT,IAAgB,UAAhB,EAA4B;AAC1B,aAAI,WAAW,WAAW,GAAX,CAAf;AACA,WAAG,gCAA8B,KAAK,IAAK,GAA3C,EAA8C,MAA9C,CAAsD,oCAAkC,GAAI,MAAG,CAAE,mCAAgC,SAAS,WAAY,aAAtJ;AACD;;AAED;AACA,WAAI,QAAQ,KAAK,KAAjB;AACA,YAAK,IAAI,GAAT,IAAgB,KAAhB,EAAuB;AACrB,aAAI,OAAO,MAAM,GAAN,CAAX;AACA,aAAI,UAAU,KAAK,QAAnB;AACA,aAAI,WAAW,KAAK,WAApB;AACA,aAAI,QAAQ,KAAK,MAAL,GAAc,qCAAd,GAAsD,EAAlE;AACA,aAAI,eAAe,KAAK,YAAL,IAAqB,CAArB,GAAyB,qBAAzB,GAAiD,iBAApE;AACA,aAAI,QAAS,8BAA4B,KAAK,KAAM,UAApD;AACA,aAAI,UAAU,KAAK,SAAL,GAAkB,+BAA6B,KAAK,SAAU,KAA9D,GAAoE,EAAlF;AACA,aAAI,OAAO,KAAK,gBAAL,CAAsB,MAAtB,GAA+B;;;;iBAAA,CAIlC,OAAQ;;;sDAAA,CAG6B,KAAK,WAAY;mBAAA,CACpD,gBAAgB,KAAK,gBAArB,CAAuC;;;kBARtC,GAWC,EAXZ;;AAaA;;AAEA,WAAG,eAAa,OAAQ,MAAG,CAAE,KAA7B,EAAkC,MAAlC,CAA0C;sCAAA,CACb,YAAa;+CAAA,CACJ,KAAM,MAAG,QAAS,MAAG,IAAK,aAAU,KAAM;oBAFhF;AAID;AACF,MAxCD;AAyCD;;AAED,YAAS,OAAT,CAAiB,eAAjB,EAAkC;AAChC,SAAI,QAAQ,gBAAgB,KAA5B;AACA,SAAI,OAAO,gBAAgB,IAA3B;AACA;AACA,SAAI,WAAW,EAAf;AACA,WAAM,OAAN,CAAc,UAAS,IAAT,EAAe,CAAf,EAAkB;AAC9B,WAAI,EAAE,OAAF,CAAU,KAAK,IAAf,EAAqB,QAArB,KAAkC,CAAC,CAAvC,EAA0C;AACxC,uBAAc,IAAd,EAAoB,IAApB;AACA,mBAAU,IAAV,EAAgB,IAAhB,EAAsB,CAAtB;AACA,kBAAS,IAAT,CAAc,KAAK,IAAnB;AACA,iBAAQ,GAAR,CAAY,IAAZ;AAED;AACD;AACA;AAED,MAXD;;AAaA,OAAE,qCAAF,EAAyC,MAAzC;AACD;;AAED,YAAS,mBAAT,CAA6B,QAA7B,EAAuC;AACrC,SAAI,UAAW,IAAE,SAAS,gBAAiB,MAAG,SAAS,YAAa,OAAI,SAAS,aAAc,MAAG,SAAS,gBAAiB,GAA5H;AACA,OAAE,mBAAF,EAAuB,IAAvB,CAA4B,OAA5B,EAAqC,IAArC,CAA0C,MAA1C,EAAmD,8BAA4B,OAAQ,GAAvF;AACA,OAAE,yBAAF,EAA6B,IAA7B,CAAkC,SAAS,WAA3C;AACA,OAAE,2BAAF,EAA+B,IAA/B,CAAqC,KAAG,SAAS,OAAQ,GAAzD,EAA4D,IAA5D,CAAiE,MAAjE,EAA0E,wBAAsB,SAAS,OAAQ,GAAjH;;AAEA,SAAI,WAAW,QAAX,CAAJ,EAA0B;AACxB,SAAE,MAAF,EAAU,QAAV,CAAmB,qBAAnB;AACA,SAAE,qCAAF,EAAyC,QAAzC,CAAkD,qBAAlD;AACA,SAAE,0BAAF,EAA8B,IAA9B,CAAmC,MAAnC;AACD,MAJD,MAIO;AACL,SAAE,MAAF,EAAU,QAAV,CAAmB,uBAAnB;AACA,SAAE,sCAAF,EAA0C,QAA1C,CAAmD,qBAAnD;AACA,SAAE,0BAAF,EAA8B,IAA9B,CAAmC,QAAnC;AACD;AACF;;AAGD,YAAS,iBAAT,GAA6B;AAC3B,aAAQ,GAAR,CAAY,UAAZ;AACA;AACA;AACD;;AAED,YAAS,kBAAT,GAA8B;AAC5B,aAAQ,GAAR,CAAY,WAAZ;AACA,SAAI,kBAAkB,eAAe,YAAf,CAAtB;AACA,aAAQ,gBAAgB,QAAxB,EAAkC,gBAAgB,SAAlD;AACA,aAAQ,eAAR;AACA,yBAAoB,eAApB;AACD;;AAED,OAAI,EAAE,MAAF,EAAU,QAAV,CAAmB,YAAnB,CAAJ,EAAsC;AACpC;AACD,IAFD,MAEO;AACL;AACD;;AAGD,KAAE,MAAF,EAAU,EAAV,CAAa,OAAb,EAAsB,qBAAtB,EAA6C,YAAW;AACtD,OAAE,IAAF,EAAQ,OAAR,CAAgB,iBAAhB,EAAmC,WAAnC,CAA+C,iBAA/C;AACD,IAFD;;AAIA,KAAE,QAAF,EAAY,KAAZ,CAAkB,UAAS,CAAT,EAAY;AAC5B,OAAE,iBAAF,EAAqB,WAArB,CAAiC,iBAAjC;AACD,IAFD;AAID,EAzTD,E","file":"clover-api.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b351a1dda5945b51ef47\n **/","jQuery( document ).ready( function( $ ) {\n  let locations = apiResponse;\n  let eachLocation = locations.locations;\n  let apiURL = 'https://menu.cloverfoodlab.com/api/';\n  let themeLoc = '/wp-content/themes/starter-theme';\n\n  function initMap(lat, lng) {\n    var styles = [\n      {\n        \"featureType\": \"water\",\n        \"stylers\": [\n          { \"saturation\": -100 },\n          { \"gamma\": 0.25 },\n          { \"visibility\": \"simplified\" }\n        ]\n      },{\n        \"stylers\": [\n          { \"saturation\": -100 }\n        ]\n      },{\n        \"stylers\": [\n          { \"visibility\": \"simplified\" },\n          { \"gamma\": 1.39 }\n        ]\n      },{\n      }\n    ];\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 14,\n      scrollwheel: false,\n      // center: new google.maps.LatLng(42.3601, -71.0589),\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n\n    // map.setOptions({styles: styles});\n    if (lat && lng) {\n      map.setCenter(new google.maps.LatLng(lat, lng));\n      map.setZoom(15);\n    } else {\n      if(navigator.geolocation) {\n        browserSupportFlag = true;\n        navigator.geolocation.getCurrentPosition(function(position) {\n          initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);\n          map.setCenter(initialLocation);\n        }, function() {\n          handleNoGeolocation(browserSupportFlag);\n        });\n      }\n      // Browser doesn't support Geolocation\n      else {\n        browserSupportFlag = false;\n        handleNoGeolocation(browserSupportFlag);\n      }\n\n      function handleNoGeolocation(errorFlag) {\n        if (errorFlag === true) {\n          // alert(\"Geolocation service failed.\");\n          initialLocation = new google.maps.LatLng(42.3601, -71.0589);\n        } else {\n          // alert(\"Your browser doesn't support geolocation. We've placed you in Siberia.\");\n          initialLocation = new google.maps.LatLng(42.3601, -71.0589);\n        }\n        map.setCenter(initialLocation);\n      }\n    }\n\n    var infowindow = new google.maps.InfoWindow();\n\n    var marker, i;\n\n    for (i = 0; i < eachLocation.length; i++) {\n      let locationStatus = isThisOpen(eachLocation[i]) ? 'open' : 'closed';\n      let locationType = isThisATruck(eachLocation[i]) ? 'truck' : 'store';\n      marker = new google.maps.Marker({\n        position: new google.maps.LatLng(eachLocation[i].latitude, eachLocation[i].longitude),\n        map: map,\n        icon: `${themeLoc}/static/img/icon--${isThisATruck(eachLocation[i]) ? 'truck' : 'store'}-${isThisOpen(eachLocation[i]) ? 'open' : 'closed'}.svg`\n      });\n\n      google.maps.event.addListener(marker, 'mouseover', ( function(marker, i) {\n        return function() {\n          infowindow.setContent(eachLocation[i].description);\n          infowindow.open(map, marker);\n        };\n      })(marker, i));\n\n      google.maps.event.addListener(marker, 'mouseout', ( function(marker, i) {\n        return function() {\n          infowindow.close();\n        };\n      })(marker, i));\n\n      google.maps.event.addListener(marker, 'click', ( function(marker, i) {\n        return function() {\n          window.location.replace(`/locations/location/?l=${eachLocation[i].slug}`);\n        };\n      })(marker, i));\n\n    }\n  }\n\n  var today = moment().format('dddd');\n  // var now = moment().format('HH:mm:ss');\n  var now = moment('21:32:24', 'HH:mm:ss').format();\n  console.log(today);\n  console.log(now);\n\n  function findToday(location) {\n    let meals = location.meals;\n  }\n\n  function isThisOpen(location) {\n    return location.is_operating;\n  }\n\n  function isThisATruck(location) {\n    return location.is_truck;\n  }\n\n  function buildLocationItem(location, i) {\n    let address = `${location.address_street_1} ${location.address_city}, ${location.address_state} ${location.address_zip_code}`;\n    let thisLocationID = `locations-mod-${i}`;\n    let distance = `${Math.round( (i + 1) * .1 * 10 ) / 10}mi`;\n    let currentStatus = isThisOpen(location) ? 'Open until 7:30pm' : 'Closed';\n    let currentStatusClass = isThisOpen(location) ? 'location-item--open' : 'location-item--closed';\n    let twitterUrl = `https://twitter.com/${location.twitter}`;\n    let googleUrl = `http://maps.google.com/?q=${address}`;\n\n    let $locationItem = `<li class=\"location-item js-has-data ${currentStatusClass}\" id=\"${thisLocationID}\" data-status=\"${isThisOpen(location)}\" data-truck=\"${isThisATruck(location)}\">\n      <div class=\"location-item-inner\">\n        <h3 class=\"location__title\">\n          <a href=\"${window.location.href.split('/locations')[0]}/locations/location/?l=${eachLocation[i].slug}\">\n            <span class=\"location__title__name\">${location.description}</span>\n            <span class=\"location__title__distance\">${distance}</span>\n          </a>\n        </h3>\n    <h4 class=\"location__status\">${currentStatus}</h4>\n\n      </li>\n    </div>`;\n    // <a class=\"location__twitter\" href=\"${twitterUrl}\" target=\"_blank\">@${location.twitter}</a>\n    // <a class=\"location__address\" href=\"${googleUrl}\" target=\"_blank\">${address}</a>\n    // <dl class=\"location__hours\">\n    //   <dt>Hours</dt>\n    //   <dd class=\"location__hours__day\"></dd>\n    // </dl>\n    // $locationItem.eq(i).addClass('js-has-data');\n    $('.locations-mod').append($locationItem);\n  }\n\n  function buildLocationsIndex() {\n    eachLocation.forEach(function(location, i) {\n      buildLocationItem(location, i);\n      findToday(location);\n    });\n  }\n\n  function parseURL(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n\n  function setCurrentPage(location) {\n    let expectedLoc = parseURL('l');\n    let thisLocation;\n\n    location.forEach(function(loc, i) {\n      if (loc.slug === expectedLoc) {\n        thisLocation = loc;\n      }\n    });\n\n    return thisLocation;\n  }\n\n  function buildMenuItem(meal, slug) {\n    console.log(meal);\n    let menuItem = `\n    <li class=\"default-repeater__item default-repeater__item--menu\">\n      <h4 class=\"default-repeater__title\">Today&rsquo;s ${meal.name} Menu <span class=\"menu-info__hours\">Served Sundays: 11am–9pm, Mon to Sat: 11am–12am</span></h4>\n      <div class=\"default-repeater__content default-repeater__content--${meal.slug}\">\n      </div>\n    </li>`;\n\n    $('.default-repeater__item--menu').last().after(menuItem);\n  }\n\n  function replaceMarkDown(val) {\n    val = val.replace(/\\*\\*.+\\*\\*/g, function(match, dec) {\n      return '<b class=\"more-info__title\">' + match + '</b>';\n    });\n    return val.replace(/\\*\\*/gi, \"\");\n  }\n\n  function buildMenu(meal, slug, i) {\n\n    let menuApiCall = $.getJSON(`${apiURL}location/${slug}/meal/${meal.slug}`);\n    menuApiCall.done( function(data) {\n      // build categories\n        // console.log(data);\n      //\n      let categories =  data.categories;\n      for (var key in categories) {\n        let category = categories[key];\n        $(`.default-repeater__content--${meal.slug}`).append(`<li class=\"menu__cat\" data-cat=\"${key}-${i}\"><h6 class=\"menu__cat-title\">${category.description}</h6></li>`);\n      }\n\n      // build items\n      let items = data.items;\n      for (var key in items) {\n        let item = items[key];\n        let itemCat = item.category;\n        let itemName = item.description;\n        let isNew = item.is_new ? '<span class=\"js-is-new\">New </span>' : '';\n        let soldOutClass = item.availability != 1 ? 'js-is-not-available' : 'js-is-available';\n        let price = `<span class=\"menu-price\">$${item.price}</span>`;\n        let itemImg = item.photo_url ? `<img class=\"menu-img\" src=\"${item.photo_url}\">` : '';\n        let info = item.long_description.length ?`\n          <div class=\"menu-info__mod\">\n            <button class=\"menu-info__trigger menu-info__trigger--open\">?</button>\n            <div class=\"menu-info__modal\">\n              ${itemImg}\n              <div class=\"menu-info__modal--width\">\n                <button class=\"menu-info__trigger menu-info__trigger--close\">&times;</button>\n                <h2 class=\"menu-info__modal-title\">${item.description}</h2>\n                ${replaceMarkDown(item.long_description)}\n              </div>\n            </div>\n          </div>` : '';\n\n        // console.log(item);\n\n        $(`[data-cat='${itemCat}-${i}']`).append(`\n            <div class=\"menu__item ${soldOutClass}\">\n              <span class=\"menu__item-name\">${isNew} ${itemName} ${info}</span> ${price}\n            </div>`);\n      }\n    });\n  }\n\n  function setMenu(currentLocation) {\n    let meals = currentLocation.meals;\n    let slug = currentLocation.slug;\n    // console.log(meals);\n    let allMeals = [];\n    meals.forEach(function(meal, i) {\n      if ($.inArray(meal.slug, allMeals) == -1) {\n        buildMenuItem(meal, slug);\n        buildMenu(meal, slug, i);\n        allMeals.push(meal.slug);\n        console.log(meal);\n\n      }\n      // console.log(meal);\n      // console.log(allMeals);\n\n    });\n\n    $('.default-repeater__item--menu:eq(0)').remove();\n  }\n\n  function setSingleTopperInfo(location) {\n    let address = `${location.address_street_1} ${location.address_city}, ${location.address_state} ${location.address_zip_code}`;\n    $('.location-address').text(address).attr('href', `http://maps.google.com/?q=${address}`);\n    $('.location-topper__title').text(location.description);\n    $('.location-topper__twitter').text(`@${location.twitter}`).attr('href', `https://twitter.com/${location.twitter}`);\n\n    if (isThisOpen(location)) {\n      $('body').addClass('js-location-is-open');\n      $('.default-repeater__item--menu:eq(0)').addClass('js-repeater-is-open');\n      $('.location-topper__status').text('Open');\n    } else {\n      $('body').addClass('js-location-is-closed')\n      $('.default-repeater__item--menu--hours').addClass('js-repeater-is-open');\n      $('.location-topper__status').text('Closed');\n    }\n  }\n\n\n  function initLocationIndex() {\n    console.log('is index');\n    initMap();\n    buildLocationsIndex();\n  }\n\n  function initLocationSingle() {\n    console.log('is single');\n    let currentLocation = setCurrentPage(eachLocation);\n    initMap(currentLocation.latitude, currentLocation.longitude);\n    setMenu(currentLocation);\n    setSingleTopperInfo(currentLocation);\n  }\n\n  if ($('body').hasClass('page-child')) {\n    initLocationSingle();\n  } else {\n    initLocationIndex();\n  }\n\n\n  $('body').on('click', '.menu-info__trigger', function() {\n    $(this).closest('.menu-info__mod').toggleClass('modal-is-active');\n  })\n\n  $(document).keyup(function(e) {\n    $('.menu-info__mod').removeClass('modal-is-active');\n  });\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./static/src/js/clover-api.js\n **/"],"sourceRoot":""}